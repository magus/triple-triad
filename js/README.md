# js

quick scripts to grab metadata about cards

## setup

> **fetch the `xivapi/ffxiv-datamining` submodule**
```
git submodule init
git submodule update
```

## run

```
yarn build
```

## data

https://github.com/xivapi/ffxiv-datamining

> **card id and stats**
> ./ffxiv-datamining/csv/TripleTriadCardResident.csv

> **card names by id**
> ./ffxiv-datamining/csv/TripleTriadCard.csv

> **card npcs id map to guaranteed cards etc.**
> ./ffxiv-datamining/csv/TripleTriad.csv
> **lookup npc id by card npc id**
> ./ffxiv-datamining/csv/ENpcBase.csv
> **lookup card npc name by id**
> ./ffxiv-datamining/csv/ENpcResident.csv

> **rules**
> ./ffxiv-dataminingcsv/TripleTriadRule.csv

## spritesheet

generated by https://triad.raelys.com

> https://github.com/mattantonelli/ffxiv-triple-triad/tree/master/lib/tasks/card_images.rake

> **card dimensions**
```
width: 104px
height: 128px
```

horizontal spritesheet is a zero-based array of concatenated card images. this means we index by `x` based on the card `id` to get a specific card image

> **ID 75, Squall Leonhart**

```
(75 - 1) * 104px = 7696px
```

## individual card images

> **ID 75, Squall Leonhart**
```
const imageId = 82100 + id;
`https://xivapi.com/i/082000/0${imageId}.png`
```
> https://xivapi.com/i/082000/082175.png
